<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="/css/style2.css">
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <title>{{album.title}} {{album.artist}}</title>
</head>

<body class="dark-bg">
<div class="album-container">

    <div class="album-details">
        <h1>Album Details</h1>
        <div class="album-info">
            <p><strong>Artist:</strong> {{album.artist}}</p>
            <p><strong>Title:</strong> {{album.title}}</p>
            <p><strong>Year:</strong> {{album.release_year}}</p>
            <p><strong>Description:</strong> {{album.text}}</p>
        </div>
        <div class="album-image">
            <img src="/album/{{album.id}}/image" alt="Album Image">
        </div>
        <div class="album-actions">
            <a href="/album/{{album.id}}/delete" class="button delete">Delete album</a>
            <a href="/album/{{album.id}}/edit" class="button edit">Edit</a>
            <a href="/" class="button favorite">Add to Favorites</a>
            <a href="/" class="button">Back</a>
        </div>
    </div>

    <div class="comments-section">
        {{#comments}}
        <div class="comment-item">
            <div class="comment-info">
                <ul>
                    <li>
                        <strong>Username</strong>: {{username}} <br>
                        <strong>Score</strong>: {{score}} <br>
                        <strong>Review</strong>: {{{text}}} <br>
                        <a href="/album/{{album.id}}/delete/comment/{{id}}" class="button delete">Delete comment</a>
                    </li>
                </ul>
            </div>
        </div>
        {{/comments}}
        {{^comments}}
        <div class="no-comment">No comments yet</div>
        {{/comments}}
    </div>

</div>
<div class="add-comment">
    <h2>Add Comment</h2>
    <form action="/album/{{album.id}}/comment" method="post">
        <div class="input-group">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" value="{{#username}}{{.}}{{/username}}" required>
        </div>
        <div class="input-group">
            <label for="score">Score:</label>
            <input type="number" id="score" name="score" placeholder="(0-100)" min="0" max="100" required>
        </div>
        <div class="input-group">
            <label for="text">Comment:</label>
            <div id="editor-container"></div>
            <input type="hidden" id="text" name="text" value="">
        </div>
        <button type="submit" class="button">Save</button>
    </form>
</div>
</body>

<script src="https://cdn.jsdelivr.net/npm/quill@2.0.0-rc.2/dist/quill.js"></script>
<script>
    var quill = new Quill('#editor-container', {
        theme: 'snow'
    });
    quill.on('text-change', function () {
        document.getElementById('text').value = quill.root.innerHTML;
    });
</script>

</html>
